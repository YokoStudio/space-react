import{r as p}from"./index-DRjF_FHU.js";import{p as a,u as m}from"./use-disposables-Bc217F-y.js";import{o as c}from"./render-BP9QO1k2.js";function g(t){let r=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+r,bottom:t.clientY+n,left:t.clientX-r}}function h(t,r){return!(!t||!r||t.right<r.left||t.left>r.right||t.bottom<r.top||t.top>r.bottom)}function P({disabled:t=!1}={}){let r=p.useRef(null),[n,i]=p.useState(!1),e=a(),o=c(()=>{r.current=null,i(!1),e.dispose()}),s=c(u=>{if(e.dispose(),r.current===null){r.current=u.currentTarget,i(!0);{let l=m(u.currentTarget);e.addEventListener(l,"pointerup",o,!1),e.addEventListener(l,"pointermove",d=>{if(r.current){let f=g(d);i(h(f,r.current.getBoundingClientRect()))}},!1),e.addEventListener(l,"pointercancel",o,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:s,onPointerUp:o,onClick:o}}}export{P as w};
