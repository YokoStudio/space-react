import{r as u,R as a}from"./index-DRjF_FHU.js";import{o as y,m as b}from"./render-BP9QO1k2.js";import{r as v}from"./index-CwCTVE6e.js";import{p as S}from"./use-disposables-Bc217F-y.js";import{f as m,s as d}from"./keyboard-C4gFvqHy.js";function F(t,e,n){let[r,l]=u.useState(n),o=t!==void 0,i=u.useRef(o),c=u.useRef(!1),f=u.useRef(!1);return o&&!i.current&&!c.current?(c.current=!0,i.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!o&&i.current&&!f.current&&(f.current=!0,i.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[o?t:r,y(s=>(o||l(s),e==null?void 0:e(s)))]}function O(t){let[e]=u.useState(t);return e}function p(t={},e=null,n=[]){for(let[r,l]of Object.entries(t))g(n,h(e,r),l);return n}function h(t,e){return t?t+"["+e+"]":e}function g(t,e,n){if(Array.isArray(n))for(let[r,l]of n.entries())g(t,h(e,r.toString()),l);else n instanceof Date?t.push([e,n.toISOString()]):typeof n=="boolean"?t.push([e,n?"1":"0"]):typeof n=="string"?t.push([e,n]):typeof n=="number"?t.push([e,`${n}`]):n==null?t.push([e,""]):p(n,e,t)}function P(t){var e,n;let r=(e=t==null?void 0:t.form)!=null?e:t.closest("form");if(r){for(let l of r.elements)if(l!==t&&(l.tagName==="INPUT"&&l.type==="submit"||l.tagName==="BUTTON"&&l.type==="submit"||l.nodeName==="INPUT"&&l.type==="image")){l.click();return}(n=r.requestSubmit)==null||n.call(r)}}let E=u.createContext(null);function C(t){let[e,n]=u.useState(null);return a.createElement(E.Provider,{value:{target:e}},t.children,a.createElement(m,{features:d.Hidden,ref:n}))}function T({children:t}){let e=u.useContext(E);if(!e)return a.createElement(a.Fragment,null,t);let{target:n}=e;return n?v.createPortal(a.createElement(a.Fragment,null,t),n):null}function M({data:t,form:e,disabled:n,onReset:r,overrides:l}){let[o,i]=u.useState(null),c=S();return u.useEffect(()=>{if(r&&o)return c.addEventListener(o,"reset",r)},[o,e,r]),a.createElement(T,null,a.createElement(H,{setForm:i,formId:e}),p(t).map(([f,s])=>a.createElement(m,{features:d.Hidden,...b({key:f,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:e,disabled:n,name:f,value:s,...l})})))}function H({setForm:t,formId:e}){return u.useEffect(()=>{if(e){let n=document.getElementById(e);n&&t(n)}},[t,e]),e?null:a.createElement(m,{features:d.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&t(r)}})}function U(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&I(n)?!1:r}function I(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}export{F as T,C as W,M as j,O as l,P as p,U as r};
