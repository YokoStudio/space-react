import{j as S}from"./jsx-runtime-DR9Q75dM.js";import{r as u,a as nt,R as K}from"./index-DRjF_FHU.js";import{n as Y,d as De,o as M,s as Ce,K as se,L as ae,O as bt,a as Fn,u as xe,$ as In,b as kn,_ as Jt}from"./render-C2leH1Nx.js";import{r as X}from"./index-CwCTVE6e.js";import{w as _n}from"./use-active-press-BWFZXNjd.js";import{A as Zt,h as en,u as jn,j as Nn,F as wt,_ as Hn}from"./focus-management-Pv7wA6DZ.js";import{l as Bn,T as Vn,j as Wn,o as W,p as Un,r as zn}from"./keyboard-6XayD_ap.js";import{u as st,o as he,p as Be,t as Yn}from"./use-disposables-yAv6qWhn.js";import{e as Gn}from"./use-resolve-button-type--EdyZz88.js";import{y as ce,T as Kn,Q as qn,K as Qn,u as Xn,I as Jn,U as Zn}from"./label-B2Sj7P4A.js";import{C as eo,a as to}from"./chunk-D5ZWXAHU-D-zQfqpj.js";import"./v4-CQkTLCs1.js";function no(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function oo(e,t=!1){let[n,o]=u.useReducer(()=>({}),{}),r=u.useMemo(()=>no(e),[e,n]);return Y(()=>{if(!e)return;let i=new ResizeObserver(o);return i.observe(e),()=>{i.disconnect()}},[e]),t?{width:`${r.width}px`,height:`${r.height}px`}:r}let ro=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};function tn(e,t){let n=e(),o=new Set;return{getSnapshot(){return n},subscribe(r){return o.add(r),()=>o.delete(r)},dispatch(r,...i){let l=t[r].call(n,...i);l&&(n=l,o.forEach(s=>s()))}}}function nn(e){return u.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let io=new ro(()=>tn(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let n=this.slice();return n.splice(t,1),n}}));function at(e,t){let n=io.get(t),o=u.useId(),r=nn(n);if(Y(()=>{if(e)return n.dispatch("ADD",o),()=>n.dispatch("REMOVE",o)},[n,e]),!e)return!1;let i=r.indexOf(o),l=r.length;return i===-1&&(i=l,l+=1),i===l-1}let ot=new Map,Oe=new Map;function yt(e){var t;let n=(t=Oe.get(e))!=null?t:0;return Oe.set(e,n+1),n!==0?()=>Et(e):(ot.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Et(e))}function Et(e){var t;let n=(t=Oe.get(e))!=null?t:1;if(n===1?Oe.delete(e):Oe.set(e,n-1),n!==1)return;let o=ot.get(e);o&&(o["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",o["aria-hidden"]),e.inert=o.inert,ot.delete(e))}function lo(e,{allowed:t,disallowed:n}={}){let o=at(e,"inert-others");Y(()=>{var r,i;if(!o)return;let l=he();for(let a of(r=n==null?void 0:n())!=null?r:[])a&&l.add(yt(a));let s=(i=t==null?void 0:t())!=null?i:[];for(let a of s){if(!a)continue;let f=st(a);if(!f)continue;let c=a.parentElement;for(;c&&c!==f.body;){for(let m of c.children)s.some(g=>m.contains(g))||l.add(yt(m));c=c.parentElement}}return l.dispose},[o,t,n])}function so(e,t,n){let o=De(r=>{let i=r.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&n()});u.useEffect(()=>{if(!e)return;let r=t===null?null:t instanceof HTMLElement?t:t.current;if(!r)return;let i=he();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>o.current(r));l.observe(r),i.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>o.current(r));l.observe(r),i.add(()=>l.disconnect())}return()=>i.dispose()},[t,o,e])}function on(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function ao(){return/Android/gi.test(window.navigator.userAgent)}function co(){return on()||ao()}function Se(e,t,n,o){let r=De(n);u.useEffect(()=>{if(!e)return;function i(l){r.current(l)}return document.addEventListener(t,i,o),()=>document.removeEventListener(t,i,o)},[e,t,o])}function uo(e,t,n,o){let r=De(n);u.useEffect(()=>{if(!e)return;function i(l){r.current(l)}return window.addEventListener(t,i,o),()=>window.removeEventListener(t,i,o)},[e,t,o])}const Rt=30;function fo(e,t,n){let o=at(e,"outside-click"),r=De(n),i=u.useCallback(function(a,f){if(a.defaultPrevented)return;let c=f(a);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let m=function g(p){return typeof p=="function"?g(p()):Array.isArray(p)||p instanceof Set?p:[p]}(t);for(let g of m)if(g!==null&&(g.contains(c)||a.composed&&a.composedPath().includes(g)))return;return!Zt(c,en.Loose)&&c.tabIndex!==-1&&a.preventDefault(),r.current(a,c)},[r,t]),l=u.useRef(null);Se(o,"pointerdown",a=>{var f,c;l.current=((c=(f=a.composedPath)==null?void 0:f.call(a))==null?void 0:c[0])||a.target},!0),Se(o,"mousedown",a=>{var f,c;l.current=((c=(f=a.composedPath)==null?void 0:f.call(a))==null?void 0:c[0])||a.target},!0),Se(o,"click",a=>{co()||l.current&&(i(a,()=>l.current),l.current=null)},!0);let s=u.useRef({x:0,y:0});Se(o,"touchstart",a=>{s.current.x=a.touches[0].clientX,s.current.y=a.touches[0].clientY},!0),Se(o,"touchend",a=>{let f={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(f.x-s.current.x)>=Rt||Math.abs(f.y-s.current.y)>=Rt))return i(a,()=>a.target instanceof HTMLElement?a.target:null)},!0),uo(o,"blur",a=>i(a,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function ct(...e){return u.useMemo(()=>st(...e),[...e])}function po(){let e;return{before({doc:t}){var n;let o=t.documentElement,r=(n=t.defaultView)!=null?n:window;e=Math.max(0,r.innerWidth-o.clientWidth)},after({doc:t,d:n}){let o=t.documentElement,r=Math.max(0,o.clientWidth-o.offsetWidth),i=Math.max(0,e-r);n.style(o,"paddingRight",`${i}px`)}}}function mo(){return on()?{before({doc:e,d:t,meta:n}){function o(r){return n.containers.flatMap(i=>i()).some(i=>i.contains(r))}t.microTask(()=>{var r;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let s=he();s.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>s.dispose()))}let i=(r=window.scrollY)!=null?r:window.pageYOffset,l=null;t.addEventListener(e,"click",s=>{if(s.target instanceof HTMLElement)try{let a=s.target.closest("a");if(!a)return;let{hash:f}=new URL(a.href),c=e.querySelector(f);c&&!o(c)&&(l=c)}catch{}},!0),t.addEventListener(e,"touchstart",s=>{if(s.target instanceof HTMLElement)if(o(s.target)){let a=s.target;for(;a.parentElement&&o(a.parentElement);)a=a.parentElement;t.style(a,"overscrollBehavior","contain")}else t.style(s.target,"touchAction","none")}),t.addEventListener(e,"touchmove",s=>{if(s.target instanceof HTMLElement){if(s.target.tagName==="INPUT")return;if(o(s.target)){let a=s.target;for(;a.parentElement&&a.dataset.headlessuiPortal!==""&&!(a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth);)a=a.parentElement;a.dataset.headlessuiPortal===""&&s.preventDefault()}else s.preventDefault()}},{passive:!1}),t.add(()=>{var s;let a=(s=window.scrollY)!=null?s:window.pageYOffset;i!==a&&window.scrollTo(0,i),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function go(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function ho(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let fe=tn(()=>new Map,{PUSH(e,t){var n;let o=(n=this.get(e))!=null?n:{doc:e,count:0,d:he(),meta:new Set};return o.count++,o.meta.add(t),this.set(e,o),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let o={doc:e,d:t,meta:ho(n)},r=[mo(),po(),go()];r.forEach(({before:i})=>i==null?void 0:i(o)),r.forEach(({after:i})=>i==null?void 0:i(o))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});fe.subscribe(()=>{let e=fe.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let o=t.get(n.doc)==="hidden",r=n.count!==0;(r&&!o||!r&&o)&&fe.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&fe.dispatch("TEARDOWN",n)}});function vo(e,t,n=()=>({containers:[]})){let o=nn(fe),r=t?o.get(t):void 0,i=r?r.count>0:!1;return Y(()=>{if(!(!t||!e))return fe.dispatch("PUSH",t,n),()=>fe.dispatch("POP",t,n)},[e,t]),i}function xo(e,t,n=()=>[document.body]){let o=at(e,"scroll-lock");vo(o,t,r=>{var i;return{containers:[...(i=r.containers)!=null?i:[],n]}})}function St(e){return[e.screenX,e.screenY]}function bo(){let e=u.useRef([-1,-1]);return{wasMoved(t){let n=St(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=St(t)}}}function wo(e=0){let[t,n]=u.useState(e),o=u.useCallback(a=>n(a),[t]),r=u.useCallback(a=>n(f=>f|a),[t]),i=u.useCallback(a=>(t&a)===a,[t]),l=u.useCallback(a=>n(f=>f&~a),[n]),s=u.useCallback(a=>n(f=>f^a),[n]);return{flags:t,setFlag:o,addFlag:r,hasFlag:i,removeFlag:l,toggleFlag:s}}var yo={},Ct,Ot;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Ct=process==null?void 0:yo)==null?void 0:Ct.NODE_ENV)==="test"&&typeof((Ot=Element==null?void 0:Element.prototype)==null?void 0:Ot.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Eo=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(Eo||{});function Ro(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function So(e,t,n,o){let[r,i]=u.useState(n),{hasFlag:l,addFlag:s,removeFlag:a}=wo(e&&r?3:0),f=u.useRef(!1),c=u.useRef(!1),m=Be();return Y(()=>{var g;if(e){if(n&&i(!0),!t){n&&s(3);return}return(g=void 0)==null||g.call(o,n),Co(t,{inFlight:f,prepare(){c.current?c.current=!1:c.current=f.current,f.current=!0,!c.current&&(n?(s(3),a(4)):(s(4),a(2)))},run(){c.current?n?(a(3),s(4)):(a(4),s(3)):n?a(1):s(1)},done(){var p;c.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(f.current=!1,a(7),n||i(!1),(p=void 0)==null||p.call(o,n))}})}},[e,n,t,m]),e?[r,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Co(e,{prepare:t,run:n,done:o,inFlight:r}){let i=he();return To(e,{prepare:t,inFlight:r}),i.nextFrame(()=>{n(),i.requestAnimationFrame(()=>{i.add(Oo(e,o))})}),i.dispose}function Oo(e,t){var n,o;let r=he();if(!e)return r.dispose;let i=!1;r.add(()=>{i=!0});let l=(o=(n=e.getAnimations)==null?void 0:n.call(e).filter(s=>s instanceof CSSTransition))!=null?o:[];return l.length===0?(t(),r.dispose):(Promise.allSettled(l.map(s=>s.finished)).then(()=>{i||t()}),r.dispose)}function To(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let o=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=o}function Ve(){return typeof window<"u"}function ye(e){return rn(e)?(e.nodeName||"").toLowerCase():"#document"}function q(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ne(e){var t;return(t=(rn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function rn(e){return Ve()?e instanceof Node||e instanceof q(e).Node:!1}function z(e){return Ve()?e instanceof Element||e instanceof q(e).Element:!1}function te(e){return Ve()?e instanceof HTMLElement||e instanceof q(e).HTMLElement:!1}function Tt(e){return!Ve()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof q(e).ShadowRoot}function Me(e){const{overflow:t,overflowX:n,overflowY:o,display:r}=J(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(r)}function Po(e){return["table","td","th"].includes(ye(e))}function We(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ut(e){const t=ft(),n=z(e)?J(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function Ao(e){let t=ie(e);for(;te(t)&&!we(t);){if(ut(t))return t;if(We(t))return null;t=ie(t)}return null}function ft(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function we(e){return["html","body","#document"].includes(ye(e))}function J(e){return q(e).getComputedStyle(e)}function Ue(e){return z(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ie(e){if(ye(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Tt(e)&&e.host||ne(e);return Tt(t)?t.host:t}function ln(e){const t=ie(e);return we(t)?e.ownerDocument?e.ownerDocument.body:e.body:te(t)&&Me(t)?t:ln(t)}function Te(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=ln(e),i=r===((o=e.ownerDocument)==null?void 0:o.body),l=q(r);if(i){const s=rt(l);return t.concat(l,l.visualViewport||[],Me(r)?r:[],s&&n?Te(s):[])}return t.concat(r,Te(r,[],n))}function rt(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Do(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:o}=t;return n+"/"+o}).join(" "):navigator.userAgent}const pe=Math.min,U=Math.max,Pe=Math.round,Fe=Math.floor,ee=e=>({x:e,y:e}),Mo={left:"right",right:"left",bottom:"top",top:"bottom"},Lo={start:"end",end:"start"};function Pt(e,t,n){return U(e,pe(t,n))}function Ee(e,t){return typeof e=="function"?e(t):e}function le(e){return e.split("-")[0]}function Le(e){return e.split("-")[1]}function sn(e){return e==="x"?"y":"x"}function an(e){return e==="y"?"height":"width"}function me(e){return["top","bottom"].includes(le(e))?"y":"x"}function cn(e){return sn(me(e))}function $o(e,t,n){n===void 0&&(n=!1);const o=Le(e),r=cn(e),i=an(r);let l=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=je(l)),[l,je(l)]}function Fo(e){const t=je(e);return[it(e),t,it(t)]}function it(e){return e.replace(/start|end/g,t=>Lo[t])}function Io(e,t,n){const o=["left","right"],r=["right","left"],i=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?r:o:t?o:r;case"left":case"right":return t?i:l;default:return[]}}function ko(e,t,n,o){const r=Le(e);let i=Io(le(e),n==="start",o);return r&&(i=i.map(l=>l+"-"+r),t&&(i=i.concat(i.map(it)))),i}function je(e){return e.replace(/left|right|bottom|top/g,t=>Mo[t])}function _o(e){return{top:0,right:0,bottom:0,left:0,...e}}function jo(e){return typeof e!="number"?_o(e):{top:e,right:e,bottom:e,left:e}}function Ne(e){const{x:t,y:n,width:o,height:r}=e;return{width:o,height:r,top:n,left:t,right:t+o,bottom:n+r,x:t,y:n}}function At(e,t,n){let{reference:o,floating:r}=e;const i=me(t),l=cn(t),s=an(l),a=le(t),f=i==="y",c=o.x+o.width/2-r.width/2,m=o.y+o.height/2-r.height/2,g=o[s]/2-r[s]/2;let p;switch(a){case"top":p={x:c,y:o.y-r.height};break;case"bottom":p={x:c,y:o.y+o.height};break;case"right":p={x:o.x+o.width,y:m};break;case"left":p={x:o.x-r.width,y:m};break;default:p={x:o.x,y:o.y}}switch(Le(t)){case"start":p[l]-=g*(n&&f?-1:1);break;case"end":p[l]+=g*(n&&f?-1:1);break}return p}const No=async(e,t,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:l}=n,s=i.filter(Boolean),a=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:r}),{x:c,y:m}=At(f,o,a),g=o,p={},d=0;for(let h=0;h<s.length;h++){const{name:x,fn:b}=s[h],{x:w,y:v,data:E,reset:R}=await b({x:c,y:m,initialPlacement:o,placement:g,strategy:r,middlewareData:p,rects:f,platform:l,elements:{reference:e,floating:t}});c=w??c,m=v??m,p={...p,[x]:{...p[x],...E}},R&&d<=50&&(d++,typeof R=="object"&&(R.placement&&(g=R.placement),R.rects&&(f=R.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:r}):R.rects),{x:c,y:m}=At(f,g,a)),h=-1)}return{x:c,y:m,placement:g,strategy:r,middlewareData:p}};async function ze(e,t){var n;t===void 0&&(t={});const{x:o,y:r,platform:i,rects:l,elements:s,strategy:a}=e,{boundary:f="clippingAncestors",rootBoundary:c="viewport",elementContext:m="floating",altBoundary:g=!1,padding:p=0}=Ee(t,e),d=jo(p),x=s[g?m==="floating"?"reference":"floating":m],b=Ne(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:f,rootBoundary:c,strategy:a})),w=m==="floating"?{x:o,y:r,width:l.floating.width,height:l.floating.height}:l.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),E=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},R=Ne(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:w,offsetParent:v,strategy:a}):w);return{top:(b.top-R.top+d.top)/E.y,bottom:(R.bottom-b.bottom+d.bottom)/E.y,left:(b.left-R.left+d.left)/E.x,right:(R.right-b.right+d.right)/E.x}}const Ho=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:r,middlewareData:i,rects:l,initialPlacement:s,platform:a,elements:f}=t,{mainAxis:c=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:d="none",flipAlignment:h=!0,...x}=Ee(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=le(r),w=me(s),v=le(s)===s,E=await(a.isRTL==null?void 0:a.isRTL(f.floating)),R=g||(v||!h?[je(s)]:Fo(s)),C=d!=="none";!g&&C&&R.push(...ko(s,h,d,E));const D=[s,...R],$=await ze(t,x),O=[];let A=((o=i.flip)==null?void 0:o.overflows)||[];if(c&&O.push($[b]),m){const I=$o(r,l,E);O.push($[I[0]],$[I[1]])}if(A=[...A,{placement:r,overflows:O}],!O.every(I=>I<=0)){var y,_;const I=(((y=i.flip)==null?void 0:y.index)||0)+1,Q=D[I];if(Q)return{data:{index:I,overflows:A},reset:{placement:Q}};let k=(_=A.filter(B=>B.overflows[0]<=0).sort((B,P)=>B.overflows[1]-P.overflows[1])[0])==null?void 0:_.placement;if(!k)switch(p){case"bestFit":{var j;const B=(j=A.filter(P=>{if(C){const L=me(P.placement);return L===w||L==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(L=>L>0).reduce((L,N)=>L+N,0)]).sort((P,L)=>P[1]-L[1])[0])==null?void 0:j[0];B&&(k=B);break}case"initialPlacement":k=s;break}if(r!==k)return{reset:{placement:k}}}return{}}}};async function Bo(e,t){const{placement:n,platform:o,elements:r}=e,i=await(o.isRTL==null?void 0:o.isRTL(r.floating)),l=le(n),s=Le(n),a=me(n)==="y",f=["left","top"].includes(l)?-1:1,c=i&&a?-1:1,m=Ee(t,e);let{mainAxis:g,crossAxis:p,alignmentAxis:d}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return s&&typeof d=="number"&&(p=s==="end"?d*-1:d),a?{x:p*c,y:g*f}:{x:g*f,y:p*c}}const Vo=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:r,y:i,placement:l,middlewareData:s}=t,a=await Bo(t,e);return l===((n=s.offset)==null?void 0:n.placement)&&(o=s.arrow)!=null&&o.alignmentOffset?{}:{x:r+a.x,y:i+a.y,data:{...a,placement:l}}}}},Wo=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:r}=t,{mainAxis:i=!0,crossAxis:l=!1,limiter:s={fn:x=>{let{x:b,y:w}=x;return{x:b,y:w}}},...a}=Ee(e,t),f={x:n,y:o},c=await ze(t,a),m=me(le(r)),g=sn(m);let p=f[g],d=f[m];if(i){const x=g==="y"?"top":"left",b=g==="y"?"bottom":"right",w=p+c[x],v=p-c[b];p=Pt(w,p,v)}if(l){const x=m==="y"?"top":"left",b=m==="y"?"bottom":"right",w=d+c[x],v=d-c[b];d=Pt(w,d,v)}const h=s.fn({...t,[g]:p,[m]:d});return{...h,data:{x:h.x-n,y:h.y-o,enabled:{[g]:i,[m]:l}}}}}},Uo=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,o;const{placement:r,rects:i,platform:l,elements:s}=t,{apply:a=()=>{},...f}=Ee(e,t),c=await ze(t,f),m=le(r),g=Le(r),p=me(r)==="y",{width:d,height:h}=i.floating;let x,b;m==="top"||m==="bottom"?(x=m,b=g===(await(l.isRTL==null?void 0:l.isRTL(s.floating))?"start":"end")?"left":"right"):(b=m,x=g==="end"?"top":"bottom");const w=h-c.top-c.bottom,v=d-c.left-c.right,E=pe(h-c[x],w),R=pe(d-c[b],v),C=!t.middlewareData.shift;let D=E,$=R;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&($=v),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(D=w),C&&!g){const A=U(c.left,0),y=U(c.right,0),_=U(c.top,0),j=U(c.bottom,0);p?$=d-2*(A!==0||y!==0?A+y:U(c.left,c.right)):D=h-2*(_!==0||j!==0?_+j:U(c.top,c.bottom))}await a({...t,availableWidth:$,availableHeight:D});const O=await l.getDimensions(s.floating);return d!==O.width||h!==O.height?{reset:{rects:!0}}:{}}}};function un(e){const t=J(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const r=te(e),i=r?e.offsetWidth:n,l=r?e.offsetHeight:o,s=Pe(n)!==i||Pe(o)!==l;return s&&(n=i,o=l),{width:n,height:o,$:s}}function dt(e){return z(e)?e:e.contextElement}function be(e){const t=dt(e);if(!te(t))return ee(1);const n=t.getBoundingClientRect(),{width:o,height:r,$:i}=un(t);let l=(i?Pe(n.width):n.width)/o,s=(i?Pe(n.height):n.height)/r;return(!l||!Number.isFinite(l))&&(l=1),(!s||!Number.isFinite(s))&&(s=1),{x:l,y:s}}const zo=ee(0);function fn(e){const t=q(e);return!ft()||!t.visualViewport?zo:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Yo(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==q(e)?!1:t}function ge(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=dt(e);let l=ee(1);t&&(o?z(o)&&(l=be(o)):l=be(e));const s=Yo(i,n,o)?fn(i):ee(0);let a=(r.left+s.x)/l.x,f=(r.top+s.y)/l.y,c=r.width/l.x,m=r.height/l.y;if(i){const g=q(i),p=o&&z(o)?q(o):o;let d=g,h=rt(d);for(;h&&o&&p!==d;){const x=be(h),b=h.getBoundingClientRect(),w=J(h),v=b.left+(h.clientLeft+parseFloat(w.paddingLeft))*x.x,E=b.top+(h.clientTop+parseFloat(w.paddingTop))*x.y;a*=x.x,f*=x.y,c*=x.x,m*=x.y,a+=v,f+=E,d=q(h),h=rt(d)}}return Ne({width:c,height:m,x:a,y:f})}function pt(e,t){const n=Ue(e).scrollLeft;return t?t.left+n:ge(ne(e)).left+n}function dn(e,t,n){n===void 0&&(n=!1);const o=e.getBoundingClientRect(),r=o.left+t.scrollLeft-(n?0:pt(e,o)),i=o.top+t.scrollTop;return{x:r,y:i}}function Go(e){let{elements:t,rect:n,offsetParent:o,strategy:r}=e;const i=r==="fixed",l=ne(o),s=t?We(t.floating):!1;if(o===l||s&&i)return n;let a={scrollLeft:0,scrollTop:0},f=ee(1);const c=ee(0),m=te(o);if((m||!m&&!i)&&((ye(o)!=="body"||Me(l))&&(a=Ue(o)),te(o))){const p=ge(o);f=be(o),c.x=p.x+o.clientLeft,c.y=p.y+o.clientTop}const g=l&&!m&&!i?dn(l,a,!0):ee(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-a.scrollLeft*f.x+c.x+g.x,y:n.y*f.y-a.scrollTop*f.y+c.y+g.y}}function Ko(e){return Array.from(e.getClientRects())}function qo(e){const t=ne(e),n=Ue(e),o=e.ownerDocument.body,r=U(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),i=U(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+pt(e);const s=-n.scrollTop;return J(o).direction==="rtl"&&(l+=U(t.clientWidth,o.clientWidth)-r),{width:r,height:i,x:l,y:s}}function Qo(e,t){const n=q(e),o=ne(e),r=n.visualViewport;let i=o.clientWidth,l=o.clientHeight,s=0,a=0;if(r){i=r.width,l=r.height;const f=ft();(!f||f&&t==="fixed")&&(s=r.offsetLeft,a=r.offsetTop)}return{width:i,height:l,x:s,y:a}}function Xo(e,t){const n=ge(e,!0,t==="fixed"),o=n.top+e.clientTop,r=n.left+e.clientLeft,i=te(e)?be(e):ee(1),l=e.clientWidth*i.x,s=e.clientHeight*i.y,a=r*i.x,f=o*i.y;return{width:l,height:s,x:a,y:f}}function Dt(e,t,n){let o;if(t==="viewport")o=Qo(e,n);else if(t==="document")o=qo(ne(e));else if(z(t))o=Xo(t,n);else{const r=fn(e);o={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Ne(o)}function pn(e,t){const n=ie(e);return n===t||!z(n)||we(n)?!1:J(n).position==="fixed"||pn(n,t)}function Jo(e,t){const n=t.get(e);if(n)return n;let o=Te(e,[],!1).filter(s=>z(s)&&ye(s)!=="body"),r=null;const i=J(e).position==="fixed";let l=i?ie(e):e;for(;z(l)&&!we(l);){const s=J(l),a=ut(l);!a&&s.position==="fixed"&&(r=null),(i?!a&&!r:!a&&s.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Me(l)&&!a&&pn(e,l))?o=o.filter(c=>c!==l):r=s,l=ie(l)}return t.set(e,o),o}function Zo(e){let{element:t,boundary:n,rootBoundary:o,strategy:r}=e;const l=[...n==="clippingAncestors"?We(t)?[]:Jo(t,this._c):[].concat(n),o],s=l[0],a=l.reduce((f,c)=>{const m=Dt(t,c,r);return f.top=U(m.top,f.top),f.right=pe(m.right,f.right),f.bottom=pe(m.bottom,f.bottom),f.left=U(m.left,f.left),f},Dt(t,s,r));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function er(e){const{width:t,height:n}=un(e);return{width:t,height:n}}function tr(e,t,n){const o=te(t),r=ne(t),i=n==="fixed",l=ge(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const a=ee(0);if(o||!o&&!i)if((ye(t)!=="body"||Me(r))&&(s=Ue(t)),o){const g=ge(t,!0,i,t);a.x=g.x+t.clientLeft,a.y=g.y+t.clientTop}else r&&(a.x=pt(r));const f=r&&!o&&!i?dn(r,s):ee(0),c=l.left+s.scrollLeft-a.x-f.x,m=l.top+s.scrollTop-a.y-f.y;return{x:c,y:m,width:l.width,height:l.height}}function qe(e){return J(e).position==="static"}function Mt(e,t){if(!te(e)||J(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ne(e)===n&&(n=n.ownerDocument.body),n}function mn(e,t){const n=q(e);if(We(e))return n;if(!te(e)){let r=ie(e);for(;r&&!we(r);){if(z(r)&&!qe(r))return r;r=ie(r)}return n}let o=Mt(e,t);for(;o&&Po(o)&&qe(o);)o=Mt(o,t);return o&&we(o)&&qe(o)&&!ut(o)?n:o||Ao(e)||n}const nr=async function(e){const t=this.getOffsetParent||mn,n=this.getDimensions,o=await n(e.floating);return{reference:tr(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function or(e){return J(e).direction==="rtl"}const rr={convertOffsetParentRelativeRectToViewportRelativeRect:Go,getDocumentElement:ne,getClippingRect:Zo,getOffsetParent:mn,getElementRects:nr,getClientRects:Ko,getDimensions:er,getScale:be,isElement:z,isRTL:or};function ir(e,t){let n=null,o;const r=ne(e);function i(){var s;clearTimeout(o),(s=n)==null||s.disconnect(),n=null}function l(s,a){s===void 0&&(s=!1),a===void 0&&(a=1),i();const{left:f,top:c,width:m,height:g}=e.getBoundingClientRect();if(s||t(),!m||!g)return;const p=Fe(c),d=Fe(r.clientWidth-(f+m)),h=Fe(r.clientHeight-(c+g)),x=Fe(f),w={rootMargin:-p+"px "+-d+"px "+-h+"px "+-x+"px",threshold:U(0,pe(1,a))||1};let v=!0;function E(R){const C=R[0].intersectionRatio;if(C!==a){if(!v)return l();C?l(!1,C):o=setTimeout(()=>{l(!1,1e-7)},1e3)}v=!1}try{n=new IntersectionObserver(E,{...w,root:r.ownerDocument})}catch{n=new IntersectionObserver(E,w)}n.observe(e)}return l(!0),i}function lr(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:a=!1}=o,f=dt(e),c=r||i?[...f?Te(f):[],...Te(t)]:[];c.forEach(b=>{r&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const m=f&&s?ir(f,n):null;let g=-1,p=null;l&&(p=new ResizeObserver(b=>{let[w]=b;w&&w.target===f&&p&&(p.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var v;(v=p)==null||v.observe(t)})),n()}),f&&!a&&p.observe(f),p.observe(t));let d,h=a?ge(e):null;a&&x();function x(){const b=ge(e);h&&(b.x!==h.x||b.y!==h.y||b.width!==h.width||b.height!==h.height)&&n(),h=b,d=requestAnimationFrame(x)}return n(),()=>{var b;c.forEach(w=>{r&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),m==null||m(),(b=p)==null||b.disconnect(),p=null,a&&cancelAnimationFrame(d)}}const Qe=ze,sr=Vo,ar=Wo,cr=Ho,ur=Uo,fr=(e,t,n)=>{const o=new Map,r={platform:rr,...n},i={...r.platform,_c:o};return No(e,t,{...r,platform:i})};var _e=typeof document<"u"?u.useLayoutEffect:u.useEffect;function He(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,o,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;o--!==0;)if(!He(e[o],t[o]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(t,r[o]))return!1;for(o=n;o--!==0;){const i=r[o];if(!(i==="_owner"&&e.$$typeof)&&!He(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function gn(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Lt(e,t){const n=gn(e);return Math.round(t*n)/n}function Xe(e){const t=u.useRef(e);return _e(()=>{t.current=e}),t}function dr(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:i,floating:l}={},transform:s=!0,whileElementsMounted:a,open:f}=e,[c,m]=u.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,p]=u.useState(o);He(g,o)||p(o);const[d,h]=u.useState(null),[x,b]=u.useState(null),w=u.useCallback(P=>{P!==C.current&&(C.current=P,h(P))},[]),v=u.useCallback(P=>{P!==D.current&&(D.current=P,b(P))},[]),E=i||d,R=l||x,C=u.useRef(null),D=u.useRef(null),$=u.useRef(c),O=a!=null,A=Xe(a),y=Xe(r),_=Xe(f),j=u.useCallback(()=>{if(!C.current||!D.current)return;const P={placement:t,strategy:n,middleware:g};y.current&&(P.platform=y.current),fr(C.current,D.current,P).then(L=>{const N={...L,isPositioned:_.current!==!1};I.current&&!He($.current,N)&&($.current=N,X.flushSync(()=>{m(N)}))})},[g,t,n,y,_]);_e(()=>{f===!1&&$.current.isPositioned&&($.current.isPositioned=!1,m(P=>({...P,isPositioned:!1})))},[f]);const I=u.useRef(!1);_e(()=>(I.current=!0,()=>{I.current=!1}),[]),_e(()=>{if(E&&(C.current=E),R&&(D.current=R),E&&R){if(A.current)return A.current(E,R,j);j()}},[E,R,j,A,O]);const Q=u.useMemo(()=>({reference:C,floating:D,setReference:w,setFloating:v}),[w,v]),k=u.useMemo(()=>({reference:E,floating:R}),[E,R]),B=u.useMemo(()=>{const P={position:n,left:0,top:0};if(!k.floating)return P;const L=Lt(k.floating,c.x),N=Lt(k.floating,c.y);return s?{...P,transform:"translate("+L+"px, "+N+"px)",...gn(k.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:N}},[n,s,k.floating,c.x,c.y]);return u.useMemo(()=>({...c,update:j,refs:Q,elements:k,floatingStyles:B}),[c,j,Q,k,B])}const hn=(e,t)=>({...sr(e),options:[e,t]}),pr=(e,t)=>({...ar(e),options:[e,t]}),mr=(e,t)=>({...cr(e),options:[e,t]}),gr=(e,t)=>({...ur(e),options:[e,t]}),vn={...nt},hr=vn.useInsertionEffect,vr=hr||(e=>e());function xn(e){const t=u.useRef(()=>{});return vr(()=>{t.current=e}),u.useCallback(function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t.current==null?void 0:t.current(...o)},[])}var lt=typeof document<"u"?u.useLayoutEffect:u.useEffect;let $t=!1,xr=0;const Ft=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+xr++;function br(){const[e,t]=u.useState(()=>$t?Ft():void 0);return lt(()=>{e==null&&t(Ft())},[]),u.useEffect(()=>{$t=!0},[]),e}const wr=vn.useId,yr=wr||br;function Er(){const e=new Map;return{emit(t,n){var o;(o=e.get(t))==null||o.forEach(r=>r(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var o;e.set(t,((o=e.get(t))==null?void 0:o.filter(r=>r!==n))||[])}}}const Rr=u.createContext(null),Sr=u.createContext(null),Cr=()=>{var e;return((e=u.useContext(Rr))==null?void 0:e.id)||null},Or=()=>u.useContext(Sr),Tr="data-floating-ui-focusable";function Pr(e){const{open:t=!1,onOpenChange:n,elements:o}=e,r=yr(),i=u.useRef({}),[l]=u.useState(()=>Er()),s=Cr()!=null,[a,f]=u.useState(o.reference),c=xn((p,d,h)=>{i.current.openEvent=p?d:void 0,l.emit("openchange",{open:p,event:d,reason:h,nested:s}),n==null||n(p,d,h)}),m=u.useMemo(()=>({setPositionReference:f}),[]),g=u.useMemo(()=>({reference:a||o.reference||null,floating:o.floating||null,domReference:o.reference}),[a,o.reference,o.floating]);return u.useMemo(()=>({dataRef:i,open:t,onOpenChange:c,elements:g,events:l,floatingId:r,refs:m}),[t,c,g,l,r,m])}function Ar(e){e===void 0&&(e={});const{nodeId:t}=e,n=Pr({...e,elements:{reference:null,floating:null,...e.elements}}),o=e.rootContext||n,r=o.elements,[i,l]=u.useState(null),[s,a]=u.useState(null),c=(r==null?void 0:r.domReference)||i,m=u.useRef(null),g=Or();lt(()=>{c&&(m.current=c)},[c]);const p=dr({...e,elements:{...r,...s&&{reference:s}}}),d=u.useCallback(v=>{const E=z(v)?{getBoundingClientRect:()=>v.getBoundingClientRect(),contextElement:v}:v;a(E),p.refs.setReference(E)},[p.refs]),h=u.useCallback(v=>{(z(v)||v===null)&&(m.current=v,l(v)),(z(p.refs.reference.current)||p.refs.reference.current===null||v!==null&&!z(v))&&p.refs.setReference(v)},[p.refs]),x=u.useMemo(()=>({...p.refs,setReference:h,setPositionReference:d,domReference:m}),[p.refs,h,d]),b=u.useMemo(()=>({...p.elements,domReference:c}),[p.elements,c]),w=u.useMemo(()=>({...p,...o,refs:x,elements:b,nodeId:t}),[p,x,b,t,o]);return lt(()=>{o.dataRef.current.floatingContext=w;const v=g==null?void 0:g.nodesRef.current.find(E=>E.id===t);v&&(v.context=w)}),u.useMemo(()=>({...p,context:w,refs:x,elements:b}),[p,x,b,w])}const It="active",kt="selected";function Je(e,t,n){const o=new Map,r=n==="item";let i=e;if(r&&e){const{[It]:l,[kt]:s,...a}=e;i=a}return{...n==="floating"&&{tabIndex:-1,[Tr]:""},...i,...t.map(l=>{const s=l?l[n]:null;return typeof s=="function"?e?s(e):null:s}).concat(e).reduce((l,s)=>(s&&Object.entries(s).forEach(a=>{let[f,c]=a;if(!(r&&[It,kt].includes(f)))if(f.indexOf("on")===0){if(o.has(f)||o.set(f,[]),typeof c=="function"){var m;(m=o.get(f))==null||m.push(c),l[f]=function(){for(var g,p=arguments.length,d=new Array(p),h=0;h<p;h++)d[h]=arguments[h];return(g=o.get(f))==null?void 0:g.map(x=>x(...d)).find(x=>x!==void 0)}}}else l[f]=c}),l),{})}}function Dr(e){e===void 0&&(e=[]);const t=e.map(s=>s==null?void 0:s.reference),n=e.map(s=>s==null?void 0:s.floating),o=e.map(s=>s==null?void 0:s.item),r=u.useCallback(s=>Je(s,e,"reference"),t),i=u.useCallback(s=>Je(s,e,"floating"),n),l=u.useCallback(s=>Je(s,e,"item"),o);return u.useMemo(()=>({getReferenceProps:r,getFloatingProps:i,getItemProps:l}),[r,i,l])}function _t(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const Mr=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:o,onFallbackChange:r,offset:i=0,index:l=0,minItemsVisible:s=4,referenceOverflowThreshold:a=0,scrollRef:f,...c}=Ee(e,t),{rects:m,elements:{floating:g}}=t,p=n.current[l],d=(f==null?void 0:f.current)||g,h=g.clientTop||d.clientTop,x=g.clientTop!==0,b=d.clientTop!==0,w=g===d;if(!p)return{};const v={...t,...await hn(-p.offsetTop-g.clientTop-m.reference.height/2-p.offsetHeight/2-i).fn(t)},E=await Qe(_t(v,d.scrollHeight+h+g.clientTop),c),R=await Qe(v,{...c,elementContext:"reference"}),C=U(0,E.top),D=v.y+C,A=(d.scrollHeight>d.clientHeight?y=>y:Pe)(U(0,d.scrollHeight+(x&&w||b?h*2:0)-C-U(0,E.bottom)));if(d.style.maxHeight=A+"px",d.scrollTop=C,r){const y=d.offsetHeight<p.offsetHeight*pe(s,n.current.length)-1||R.top>=-a||R.bottom>=-a;X.flushSync(()=>r(y))}return o&&(o.current=await Qe(_t({...v,y:D},d.offsetHeight+h+g.clientTop),c)),{y:D}}});function Lr(e,t){const{open:n,elements:o}=e,{enabled:r=!0,overflowRef:i,scrollRef:l,onChange:s}=t,a=xn(s),f=u.useRef(!1),c=u.useRef(null),m=u.useRef(null);u.useEffect(()=>{if(!r)return;function p(h){if(h.ctrlKey||!d||i.current==null)return;const x=h.deltaY,b=i.current.top>=-.5,w=i.current.bottom>=-.5,v=d.scrollHeight-d.clientHeight,E=x<0?-1:1,R=x<0?"max":"min";d.scrollHeight<=d.clientHeight||(!b&&x>0||!w&&x<0?(h.preventDefault(),X.flushSync(()=>{a(C=>C+Math[R](x,v*E))})):/firefox/i.test(Do())&&(d.scrollTop+=x))}const d=(l==null?void 0:l.current)||o.floating;if(n&&d)return d.addEventListener("wheel",p),requestAnimationFrame(()=>{c.current=d.scrollTop,i.current!=null&&(m.current={...i.current})}),()=>{c.current=null,m.current=null,d.removeEventListener("wheel",p)}},[r,n,o.floating,i,l,a]);const g=u.useMemo(()=>({onKeyDown(){f.current=!0},onWheel(){f.current=!1},onPointerMove(){f.current=!1},onScroll(){const p=(l==null?void 0:l.current)||o.floating;if(!(!i.current||!p||!f.current)){if(c.current!==null){const d=p.scrollTop-c.current;(i.current.bottom<-.5&&d<-1||i.current.top<-.5&&d>1)&&X.flushSync(()=>a(h=>h+d))}requestAnimationFrame(()=>{c.current=p.scrollTop})}}}),[o.floating,a,i,l]);return u.useMemo(()=>r?{floating:g}:{},[r,g])}let Re=u.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Re.displayName="FloatingContext";let mt=u.createContext(null);mt.displayName="PlacementContext";function $r(e){return u.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function Fr(){return u.useContext(Re).setReference}function Ir(){return u.useContext(Re).getReferenceProps}function kr(){let{getFloatingProps:e,slot:t}=u.useContext(Re);return u.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function _r(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=u.useContext(mt),n=u.useMemo(()=>e,[JSON.stringify(e,(r,i)=>{var l;return(l=i==null?void 0:i.outerHTML)!=null?l:i})]);Y(()=>{t==null||t(n??null)},[t,n]);let o=u.useContext(Re);return u.useMemo(()=>[o.setFloating,e?o.styles:{}],[o.setFloating,e,o.styles])}let jt=4;function jr({children:e,enabled:t=!0}){let[n,o]=u.useState(null),[r,i]=u.useState(0),l=u.useRef(null),[s,a]=u.useState(null);Nr(s);let f=t&&n!==null&&s!==null,{to:c="bottom",gap:m=0,offset:g=0,padding:p=0,inner:d}=Hr(n,s),[h,x="center"]=c.split(" ");Y(()=>{f&&i(0)},[f]);let{refs:b,floatingStyles:w,context:v}=Ar({open:f,placement:h==="selection"?x==="center"?"bottom":`bottom-${x}`:x==="center"?`${h}`:`${h}-${x}`,strategy:"absolute",transform:!1,middleware:[hn({mainAxis:h==="selection"?0:m,crossAxis:g}),pr({padding:p}),h!=="selection"&&mr({padding:p}),h==="selection"&&d?Mr({...d,padding:p,overflowRef:l,offset:r,minItemsVisible:jt,referenceOverflowThreshold:p,onFallbackChange(y){var _,j;if(!y)return;let I=v.elements.floating;if(!I)return;let Q=parseFloat(getComputedStyle(I).scrollPaddingBottom)||0,k=Math.min(jt,I.childElementCount),B=0,P=0;for(let L of(j=(_=v.elements.floating)==null?void 0:_.childNodes)!=null?j:[])if(L instanceof HTMLElement){let N=L.offsetTop,oe=N+L.clientHeight+Q,ue=I.scrollTop,T=ue+I.clientHeight;if(N>=ue&&oe<=T)k--;else{P=Math.max(0,Math.min(oe,T)-Math.max(N,ue)),B=L.clientHeight;break}}k>=1&&i(L=>{let N=B*k-P+Q;return L>=N?L:N})}}):null,gr({padding:p,apply({availableWidth:y,availableHeight:_,elements:j}){Object.assign(j.floating.style,{overflow:"auto",maxWidth:`${y}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${_}px)`})}})].filter(Boolean),whileElementsMounted:lr}),[E=h,R=x]=v.placement.split("-");h==="selection"&&(E="selection");let C=u.useMemo(()=>({anchor:[E,R].filter(Boolean).join(" ")}),[E,R]),D=Lr(v,{overflowRef:l,onChange:i}),{getReferenceProps:$,getFloatingProps:O}=Dr([D]),A=M(y=>{a(y),b.setFloating(y)});return u.createElement(mt.Provider,{value:o},u.createElement(Re.Provider,{value:{setFloating:A,setReference:b.setReference,styles:w,getReferenceProps:$,getFloatingProps:O,slot:C}},e))}function Nr(e){Y(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,o=parseFloat(n);if(isNaN(o))return;let r=parseInt(n);isNaN(r)||o!==r&&(e.style.maxHeight=`${Math.ceil(o)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function Hr(e,t){var n,o,r;let i=Ze((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),l=Ze((o=e==null?void 0:e.offset)!=null?o:"var(--anchor-offset, 0)",t),s=Ze((r=e==null?void 0:e.padding)!=null?r:"var(--anchor-padding, 0)",t);return{...e,gap:i,offset:l,padding:s}}function Ze(e,t,n=void 0){let o=Be(),r=M((a,f)=>{if(a==null)return[n,null];if(typeof a=="number")return[a,null];if(typeof a=="string"){if(!f)return[n,null];let c=Nt(a,f);return[c,m=>{let g=bn(a);{let p=g.map(d=>window.getComputedStyle(f).getPropertyValue(d));o.requestAnimationFrame(function d(){o.nextFrame(d);let h=!1;for(let[b,w]of g.entries()){let v=window.getComputedStyle(f).getPropertyValue(w);if(p[b]!==v){p[b]=v,h=!0;break}}if(!h)return;let x=Nt(a,f);c!==x&&(m(x),c=x)})}return o.dispose}]}return[n,null]}),i=u.useMemo(()=>r(e,t)[0],[e,t]),[l=i,s]=u.useState();return Y(()=>{let[a,f]=r(e,t);if(s(a),!!f)return f(s)},[e,t]),l}function bn(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let o=t[1].slice(0,n).trim(),r=t[1].slice(n+1).trim();return r?[o,...bn(r)]:[o]}return[]}function Nt(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let o=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),o}function Br(e,t){let[n,o]=u.useState(t);return!e&&n!==t&&o(t),e?n:t}let gt=u.createContext(null);gt.displayName="OpenClosedContext";var Ae=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Ae||{});function Vr(){return u.useContext(gt)}function Wr({value:e,children:t}){return K.createElement(gt.Provider,{value:e},t)}function Ur(e){throw new Error("Unexpected object: "+e)}var H=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(H||{});function et(e,t){let n=t.resolveItems();if(n.length<=0)return null;let o=t.resolveActiveIndex(),r=o??-1;switch(e.focus){case 0:{for(let i=0;i<n.length;++i)if(!t.resolveDisabled(n[i],i,n))return i;return o}case 1:{r===-1&&(r=n.length);for(let i=r-1;i>=0;--i)if(!t.resolveDisabled(n[i],i,n))return i;return o}case 2:{for(let i=r+1;i<n.length;++i)if(!t.resolveDisabled(n[i],i,n))return i;return o}case 3:{for(let i=n.length-1;i>=0;--i)if(!t.resolveDisabled(n[i],i,n))return i;return o}case 4:{for(let i=0;i<n.length;++i)if(t.resolveId(n[i],i,n)===e.id)return i;return o}case 5:return null;default:Ur(e)}}function zr(e){let t=M(e),n=u.useRef(!1);u.useEffect(()=>(n.current=!1,()=>{n.current=!0,Yn(()=>{n.current&&t()})}),[t])}function Yr(){let e=typeof document>"u";return"useSyncExternalStore"in nt?(t=>t.useSyncExternalStore)(nt)(()=>()=>{},()=>!1,()=>!e):!1}function Gr(){let e=Yr(),[t,n]=u.useState(Ce.isHandoffComplete);return t&&Ce.isHandoffComplete===!1&&n(!1),u.useEffect(()=>{t!==!0&&n(!0)},[t]),u.useEffect(()=>Ce.handoff(),[]),e?!1:t}let Kr=u.createContext(!1);function qr(){return u.useContext(Kr)}function Qr(e){let t=qr(),n=u.useContext(yn),o=ct(e),[r,i]=u.useState(()=>{var l;if(!t&&n!==null)return(l=n.current)!=null?l:null;if(Ce.isServer)return null;let s=o==null?void 0:o.getElementById("headlessui-portal-root");if(s)return s;if(o===null)return null;let a=o.createElement("div");return a.setAttribute("id","headlessui-portal-root"),o.body.appendChild(a)});return u.useEffect(()=>{r!==null&&(o!=null&&o.body.contains(r)||o==null||o.body.appendChild(r))},[r,o]),u.useEffect(()=>{t||n!==null&&i(n.current)},[n,i,t]),r}let wn=u.Fragment,Xr=se(function(e,t){let n=e,o=u.useRef(null),r=ce(Kn(m=>{o.current=m}),t),i=ct(o),l=Qr(o),[s]=u.useState(()=>{var m;return Ce.isServer?null:(m=i==null?void 0:i.createElement("div"))!=null?m:null}),a=u.useContext(ti),f=Gr();Y(()=>{!l||!s||l.contains(s)||(s.setAttribute("data-headlessui-portal",""),l.appendChild(s))},[l,s]),Y(()=>{if(s&&a)return a.register(s)},[a,s]),zr(()=>{var m;!l||!s||(s instanceof Node&&l.contains(s)&&l.removeChild(s),l.childNodes.length<=0&&((m=l.parentElement)==null||m.removeChild(l)))});let c=ae();return f?!l||!s?null:X.createPortal(c({ourProps:{ref:r},theirProps:n,slot:{},defaultTag:wn,name:"Portal"}),s):null});function Jr(e,t){let n=ce(t),{enabled:o=!0,...r}=e,i=ae();return o?K.createElement(Xr,{...r,ref:n}):i({ourProps:{ref:n},theirProps:r,slot:{},defaultTag:wn,name:"Portal"})}let Zr=u.Fragment,yn=u.createContext(null);function ei(e,t){let{target:n,...o}=e,r={ref:ce(t)},i=ae();return K.createElement(yn.Provider,{value:n},i({ourProps:r,theirProps:o,defaultTag:Zr,name:"Popover.Group"}))}let ti=u.createContext(null),ni=se(Jr),oi=se(ei),ri=Object.assign(ni,{Group:oi});function ii(e,t){let n=u.useRef({left:0,top:0});if(Y(()=>{if(!t)return;let r=t.getBoundingClientRect();r&&(n.current=r)},[e,t]),t==null||!e||t===document.activeElement)return!1;let o=t.getBoundingClientRect();return o.top!==n.current.top||o.left!==n.current.left}let Ht=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Bt(e){var t,n;let o=(t=e.innerText)!=null?t:"",r=e.cloneNode(!0);if(!(r instanceof HTMLElement))return o;let i=!1;for(let s of r.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))s.remove(),i=!0;let l=i?(n=r.innerText)!=null?n:"":o;return Ht.test(l)&&(l=l.replace(Ht,"")),l}function li(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let o=n.split(" ").map(r=>{let i=document.getElementById(r);if(i){let l=i.getAttribute("aria-label");return typeof l=="string"?l.trim():Bt(i).trim()}return null}).filter(Boolean);if(o.length>0)return o.join(", ")}return Bt(e).trim()}function si(e){let t=u.useRef(""),n=u.useRef("");return M(()=>{let o=e.current;if(!o)return"";let r=o.innerText;if(t.current===r)return n.current;let i=li(o).trim().toLowerCase();return t.current=r,n.current=i,i})}var ai=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ai||{}),ci=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(ci||{}),ui=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(ui||{}),fi=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetOptionsElement=8]="SetOptionsElement",e))(fi||{});function tt(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,o=Hn(t(e.options.slice()),i=>i.dataRef.current.domRef.current),r=n?o.indexOf(n):null;return r===-1&&(r=null),{options:o,activeOptionIndex:r}}let di={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1,__demoMode:!1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,o=e.options.findIndex(r=>n(r.dataRef.current.value));return o!==-1&&(t=o),{...e,listboxState:0,activeOptionIndex:t,__demoMode:!1}},2(e,t){var n,o,r,i,l;if(e.dataRef.current.disabled||e.listboxState===1)return e;let s={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===H.Nothing)return{...s,activeOptionIndex:null};if(t.focus===H.Specific)return{...s,activeOptionIndex:e.options.findIndex(c=>c.id===t.id)};if(t.focus===H.Previous){let c=e.activeOptionIndex;if(c!==null){let m=e.options[c].dataRef.current.domRef,g=et(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(g!==null){let p=e.options[g].dataRef.current.domRef;if(((o=m.current)==null?void 0:o.previousElementSibling)===p.current||((r=p.current)==null?void 0:r.previousElementSibling)===null)return{...s,activeOptionIndex:g}}}}else if(t.focus===H.Next){let c=e.activeOptionIndex;if(c!==null){let m=e.options[c].dataRef.current.domRef,g=et(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(g!==null){let p=e.options[g].dataRef.current.domRef;if(((i=m.current)==null?void 0:i.nextElementSibling)===p.current||((l=p.current)==null?void 0:l.nextElementSibling)===null)return{...s,activeOptionIndex:g}}}}let a=tt(e),f=et(t,{resolveItems:()=>a.options,resolveActiveIndex:()=>a.activeOptionIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled});return{...s,...a,activeOptionIndex:f}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,o=e.searchQuery+t.value.toLowerCase(),r=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(l=>{var s;return!l.dataRef.current.disabled&&((s=l.dataRef.current.textValue)==null?void 0:s.startsWith(o))}),i=r?e.options.indexOf(r):-1;return i===-1||i===e.activeOptionIndex?{...e,searchQuery:o}:{...e,searchQuery:o,activeOptionIndex:i,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},o=tt(e,r=>[...r,n]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(o.activeOptionIndex=o.options.indexOf(n)),{...e,...o}},6:(e,t)=>{let n=tt(e,o=>{let r=o.findIndex(i=>i.id===t.id);return r!==-1&&o.splice(r,1),o});return{...e,...n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element}},ht=u.createContext(null);ht.displayName="ListboxActionsContext";function Ye(e){let t=u.useContext(ht);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ye),n}return t}let Ge=u.createContext(null);Ge.displayName="ListboxDataContext";function $e(e){let t=u.useContext(Ge);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,$e),n}return t}function pi(e,t){return xe(t.type,di,e,t)}let mi=u.Fragment;function gi(e,t){var n;let o=Fn(),{value:r,defaultValue:i,form:l,name:s,onChange:a,by:f,invalid:c=!1,disabled:m=o||!1,horizontal:g=!1,multiple:p=!1,__demoMode:d=!1,...h}=e;const x=g?"horizontal":"vertical";let b=ce(t),w=Bn(i),[v=p?[]:void 0,E]=Vn(r,a,w),[R,C]=u.useReducer(pi,{dataRef:u.createRef(),listboxState:d?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,optionsVisible:!1,buttonElement:null,optionsElement:null,__demoMode:d}),D=u.useRef({static:!1,hold:!1}),$=u.useRef(new Map),O=jn(f),A=u.useCallback(F=>xe(y.mode,{1:()=>v.some(V=>O(V,F)),0:()=>O(v,F)}),[v]),y=u.useMemo(()=>({...R,value:v,disabled:m,invalid:c,mode:p?1:0,orientation:x,compare:O,isSelected:A,optionsPropsRef:D,listRef:$}),[v,m,c,p,R,$]);Y(()=>{R.dataRef.current=y},[y]);let _=y.listboxState===0;fo(_,[y.buttonElement,y.optionsElement],(F,V)=>{var Z;C({type:1}),Zt(V,en.Loose)||(F.preventDefault(),(Z=y.buttonElement)==null||Z.focus())});let j=u.useMemo(()=>({open:y.listboxState===0,disabled:m,invalid:c,value:v}),[y,m,v,c]),I=M(F=>{let V=y.options.find(Z=>Z.id===F);V&&oe(V.dataRef.current.value)}),Q=M(()=>{if(y.activeOptionIndex!==null){let{dataRef:F,id:V}=y.options[y.activeOptionIndex];oe(F.current.value),C({type:2,focus:H.Specific,id:V})}}),k=M(()=>C({type:0})),B=M(()=>C({type:1})),P=Be(),L=M((F,V,Z)=>{P.dispose(),P.microTask(()=>F===H.Specific?C({type:2,focus:H.Specific,id:V,trigger:Z}):C({type:2,focus:F,trigger:Z}))}),N=M((F,V)=>(C({type:5,id:F,dataRef:V}),()=>C({type:6,id:F}))),oe=M(F=>xe(y.mode,{0(){return E==null?void 0:E(F)},1(){let V=y.value.slice(),Z=V.findIndex($n=>O($n,F));return Z===-1?V.push(F):V.splice(Z,1),E==null?void 0:E(V)}})),ue=M(F=>C({type:3,value:F})),T=M(()=>C({type:4})),G=M(F=>{C({type:7,element:F})}),ve=M(F=>{C({type:8,element:F})}),Ke=u.useMemo(()=>({onChange:oe,registerOption:N,goToOption:L,closeListbox:B,openListbox:k,selectActiveOption:Q,selectOption:I,search:ue,clearSearch:T,setButtonElement:G,setOptionsElement:ve}),[]),[Pn,An]=Qn({inherit:!0}),Dn={ref:b},Mn=u.useCallback(()=>{if(w!==void 0)return E==null?void 0:E(w)},[E,w]),Ln=ae();return K.createElement(An,{value:Pn,props:{htmlFor:(n=y.buttonElement)==null?void 0:n.id},slot:{open:y.listboxState===0,disabled:m}},K.createElement(jr,null,K.createElement(ht.Provider,{value:Ke},K.createElement(Ge.Provider,{value:y},K.createElement(Wr,{value:xe(y.listboxState,{0:Ae.Open,1:Ae.Closed})},s!=null&&v!=null&&K.createElement(Wn,{disabled:m,data:{[s]:v},form:l,onReset:Mn}),Ln({ourProps:Dn,theirProps:h,slot:j,defaultTag:mi,name:"Listbox"}))))))}let hi="button";function vi(e,t){var n;let o=$e("Listbox.Button"),r=Ye("Listbox.Button"),i=u.useId(),l=Xn(),{id:s=l||`headlessui-listbox-button-${i}`,disabled:a=o.disabled||!1,autoFocus:f=!1,...c}=e,m=ce(t,Fr(),r.setButtonElement),g=Ir(),p=M(y=>{switch(y.key){case W.Enter:Un(y.currentTarget);break;case W.Space:case W.ArrowDown:y.preventDefault(),X.flushSync(()=>r.openListbox()),o.value||r.goToOption(H.First);break;case W.ArrowUp:y.preventDefault(),X.flushSync(()=>r.openListbox()),o.value||r.goToOption(H.Last);break}}),d=M(y=>{switch(y.key){case W.Space:y.preventDefault();break}}),h=M(y=>{var _;if(zn(y.currentTarget))return y.preventDefault();o.listboxState===0?(X.flushSync(()=>r.closeListbox()),(_=o.buttonElement)==null||_.focus({preventScroll:!0})):(y.preventDefault(),r.openListbox())}),x=M(y=>y.preventDefault()),b=Jn([s]),w=Zn(),{isFocusVisible:v,focusProps:E}=In({autoFocus:f}),{isHovered:R,hoverProps:C}=kn({isDisabled:a}),{pressed:D,pressProps:$}=_n({disabled:a}),O=u.useMemo(()=>({open:o.listboxState===0,active:D||o.listboxState===0,disabled:a,invalid:o.invalid,value:o.value,hover:R,focus:v,autofocus:f}),[o.listboxState,o.value,a,R,v,D,o.invalid,f]),A=Jt(g(),{ref:m,id:s,type:Gn(e,o.buttonElement),"aria-haspopup":"listbox","aria-controls":(n=o.optionsElement)==null?void 0:n.id,"aria-expanded":o.listboxState===0,"aria-labelledby":b,"aria-describedby":w,disabled:a||void 0,autoFocus:f,onKeyDown:p,onKeyUp:d,onKeyPress:x,onClick:h},E,C,$);return ae()({ourProps:A,theirProps:c,slot:O,defaultTag:hi,name:"Listbox.Button"})}let En=u.createContext(!1),xi="div",bi=bt.RenderStrategy|bt.Static;function wi(e,t){var n,o;let r=u.useId(),{id:i=`headlessui-listbox-options-${r}`,anchor:l,portal:s=!1,modal:a=!0,transition:f=!1,...c}=e,m=$r(l),[g,p]=u.useState(null);m&&(s=!0);let d=$e("Listbox.Options"),h=Ye("Listbox.Options"),x=ct(d.optionsElement),b=Vr(),[w,v]=So(f,g,b!==null?(b&Ae.Open)===Ae.Open:d.listboxState===0);so(w,d.buttonElement,h.closeListbox);let E=d.__demoMode?!1:a&&d.listboxState===0;xo(E,x);let R=d.__demoMode?!1:a&&d.listboxState===0;lo(R,{allowed:u.useCallback(()=>[d.buttonElement,d.optionsElement],[d.buttonElement,d.optionsElement])});let C=d.listboxState!==0,D=ii(C,d.buttonElement)?!1:w,$=w&&d.listboxState===1,O=Br($,d.value),A=M(T=>d.compare(O,T)),y=u.useMemo(()=>{var T;if(m==null||!((T=m==null?void 0:m.to)!=null&&T.includes("selection")))return null;let G=d.options.findIndex(ve=>A(ve.dataRef.current.value));return G===-1&&(G=0),G},[m,d.options]),_=(()=>{if(m==null)return;if(y===null)return{...m,inner:void 0};let T=Array.from(d.listRef.current.values());return{...m,inner:{listRef:{current:T},index:y}}})(),[j,I]=_r(_),Q=kr(),k=ce(t,m?j:null,h.setOptionsElement,p),B=Be();u.useEffect(()=>{var T;let G=d.optionsElement;G&&d.listboxState===0&&G!==((T=st(G))==null?void 0:T.activeElement)&&(G==null||G.focus({preventScroll:!0}))},[d.listboxState,d.optionsElement]);let P=M(T=>{var G,ve;switch(B.dispose(),T.key){case W.Space:if(d.searchQuery!=="")return T.preventDefault(),T.stopPropagation(),h.search(T.key);case W.Enter:if(T.preventDefault(),T.stopPropagation(),d.activeOptionIndex!==null){let{dataRef:Ke}=d.options[d.activeOptionIndex];h.onChange(Ke.current.value)}d.mode===0&&(X.flushSync(()=>h.closeListbox()),(G=d.buttonElement)==null||G.focus({preventScroll:!0}));break;case xe(d.orientation,{vertical:W.ArrowDown,horizontal:W.ArrowRight}):return T.preventDefault(),T.stopPropagation(),h.goToOption(H.Next);case xe(d.orientation,{vertical:W.ArrowUp,horizontal:W.ArrowLeft}):return T.preventDefault(),T.stopPropagation(),h.goToOption(H.Previous);case W.Home:case W.PageUp:return T.preventDefault(),T.stopPropagation(),h.goToOption(H.First);case W.End:case W.PageDown:return T.preventDefault(),T.stopPropagation(),h.goToOption(H.Last);case W.Escape:T.preventDefault(),T.stopPropagation(),X.flushSync(()=>h.closeListbox()),(ve=d.buttonElement)==null||ve.focus({preventScroll:!0});return;case W.Tab:T.preventDefault(),T.stopPropagation(),X.flushSync(()=>h.closeListbox()),Nn(d.buttonElement,T.shiftKey?wt.Previous:wt.Next);break;default:T.key.length===1&&(h.search(T.key),B.setTimeout(()=>h.clearSearch(),350));break}}),L=(n=d.buttonElement)==null?void 0:n.id,N=u.useMemo(()=>({open:d.listboxState===0}),[d.listboxState]),oe=Jt(m?Q():{},{id:i,ref:k,"aria-activedescendant":d.activeOptionIndex===null||(o=d.options[d.activeOptionIndex])==null?void 0:o.id,"aria-multiselectable":d.mode===1?!0:void 0,"aria-labelledby":L,"aria-orientation":d.orientation,onKeyDown:P,role:"listbox",tabIndex:d.listboxState===0?0:void 0,style:{...c.style,...I,"--button-width":oo(d.buttonElement,!0).width},...Ro(v)}),ue=ae();return K.createElement(ri,{enabled:s?e.static||w:!1},K.createElement(Ge.Provider,{value:d.mode===1?d:{...d,isSelected:A}},ue({ourProps:oe,theirProps:c,slot:N,defaultTag:xi,features:bi,visible:D,name:"Listbox.Options"})))}let yi="div";function Ei(e,t){let n=u.useId(),{id:o=`headlessui-listbox-option-${n}`,disabled:r=!1,value:i,...l}=e,s=u.useContext(En)===!0,a=$e("Listbox.Option"),f=Ye("Listbox.Option"),c=a.activeOptionIndex!==null?a.options[a.activeOptionIndex].id===o:!1,m=a.isSelected(i),g=u.useRef(null),p=si(g),d=De({disabled:r,value:i,domRef:g,get textValue(){return p()}}),h=ce(t,g,O=>{O?a.listRef.current.set(o,O):a.listRef.current.delete(o)});Y(()=>{if(!a.__demoMode&&a.listboxState===0&&c&&a.activationTrigger!==0)return he().requestAnimationFrame(()=>{var O,A;(A=(O=g.current)==null?void 0:O.scrollIntoView)==null||A.call(O,{block:"nearest"})})},[g,c,a.__demoMode,a.listboxState,a.activationTrigger,a.activeOptionIndex]),Y(()=>{if(!s)return f.registerOption(o,d)},[d,o,s]);let x=M(O=>{var A;if(r)return O.preventDefault();f.onChange(i),a.mode===0&&(X.flushSync(()=>f.closeListbox()),(A=a.buttonElement)==null||A.focus({preventScroll:!0}))}),b=M(()=>{if(r)return f.goToOption(H.Nothing);f.goToOption(H.Specific,o)}),w=bo(),v=M(O=>{w.update(O),!r&&(c||f.goToOption(H.Specific,o,0))}),E=M(O=>{w.wasMoved(O)&&(r||c||f.goToOption(H.Specific,o,0))}),R=M(O=>{w.wasMoved(O)&&(r||c&&f.goToOption(H.Nothing))}),C=u.useMemo(()=>({active:c,focus:c,selected:m,disabled:r,selectedOption:m&&s}),[c,m,r,s]),D=s?{}:{id:o,ref:h,role:"option",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,"aria-selected":m,disabled:void 0,onClick:x,onFocus:b,onPointerEnter:v,onMouseEnter:v,onPointerMove:E,onMouseMove:E,onPointerLeave:R,onMouseLeave:R},$=ae();return!m&&s?null:$({ourProps:D,theirProps:l,slot:C,defaultTag:yi,name:"Listbox.Option"})}let Ri=u.Fragment;function Si(e,t){let{options:n,placeholder:o,...r}=e,i={ref:ce(t)},l=$e("ListboxSelectedOption"),s=u.useMemo(()=>({}),[]),a=l.value===void 0||l.value===null||l.mode===1&&Array.isArray(l.value)&&l.value.length===0,f=ae();return K.createElement(En.Provider,{value:!0},f({ourProps:i,theirProps:{...r,children:K.createElement(K.Fragment,null,o&&a?o:n)},slot:s,defaultTag:Ri,name:"ListboxSelectedOption"}))}let Ci=se(gi),Rn=se(vi),Oi=qn,Sn=se(wi),vt=se(Ei),Cn=se(Si),Ti=Object.assign(Ci,{Button:Rn,Label:Oi,Options:Sn,Option:vt,SelectedOption:Cn});function Pi(){return S.jsx("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.55015 6.32652C4.73801 6.12412 5.05437 6.11233 5.25677 6.30019L7.80443 8.6648C8.04653 8.8895 8.45339 8.8895 8.69549 8.6648L11.2432 6.30019C11.4455 6.11233 11.7619 6.12412 11.9498 6.32652C12.1376 6.52891 12.1258 6.84528 11.9234 7.03313L9.37578 9.39774C8.75005 9.97852 7.74988 9.97852 7.12414 9.39774L4.57649 7.03313C4.37409 6.84528 4.3623 6.52891 4.55015 6.32652Z",fill:"currentColor"})})}var On=(e=>(e.Bottom="bottom start",e.Top="top end",e))(On||{});const Tn=u.createContext(void 0),Ai=()=>{const e=u.useContext(Tn);if(!e)throw new Error("useDropdownContext must be used within a Dropdown");return e};function xt({children:e,value:t,placeholder:n="Select",prependIcon:o,disabled:r,error:i,multiple:l,onChange:s}){const[a,f]=u.useState(l);return u.useEffect(()=>{s(l?Array.isArray(t)?t:[]:Array.isArray(t)?t[0]||null:t),f(l)},[l]),S.jsx(Tn.Provider,{value:{multiple:a},children:S.jsx("div",{className:"dropdown",children:S.jsxs(Ti,{value:t,onChange:s,disabled:r,invalid:i,multiple:a,children:[S.jsx(Rn,{className:"dropdown__button h-8",disabled:r,children:({value:c})=>S.jsxs(S.Fragment,{children:[o&&S.jsx("div",{className:"dropdown__button__icon",children:o}),a&&Array.isArray(c)&&c.length?S.jsxs("div",{className:"dropdown__button__label",children:[c.length," selected"]}):S.jsx(Cn,{as:"div",className:"dropdown__button__label",options:e,placeholder:S.jsx("div",{className:"dropdown__button__label_placeholder",children:n})}),S.jsx("div",{className:"dropdown__button__angle",children:S.jsx(Pi,{})})]})}),S.jsx(Sn,{className:"dropdown_list w-[var(--button-width)]",anchor:{to:On.Bottom,gap:4},children:e})]})})})}const Di=()=>S.jsx("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M11.7343 3.55828C11.9783 3.68765 12.0712 3.9903 11.9418 4.23426L8.20708 11.2769C7.79978 12.0449 6.72569 12.1137 6.22378 11.4039L4.42516 8.8601C4.26573 8.63463 4.31928 8.32261 4.54475 8.16318C4.77022 8.00376 5.08224 8.0573 5.24167 8.28277L7.04029 10.8265C7.11199 10.9279 7.26543 10.9181 7.32362 10.8084L11.0583 3.76576C11.1877 3.5218 11.4904 3.4289 11.7343 3.55828Z",fill:"currentColor"})});function re({label:e,value:t,badge:n,prependIcon:o,disabled:r}){const i=u.useRef(null),{multiple:l}=Ai();return S.jsx(vt,{as:"div",className:"dropdown_listitem",value:t,disabled:r,ref:i,children:({selected:s,selectedOption:a})=>a?S.jsx("div",{className:"text-body-b1 text-neutral-2-default",children:e}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"dropdown_listitem__checkbox",children:l?S.jsx(eo,{onChange:()=>{var f;return(f=i.current)==null?void 0:f.click()},checked:s,disabled:r}):s&&S.jsx(Di,{})}),S.jsxs("div",{className:"grow flex gap-1",children:[o&&S.jsx("div",{children:o}),S.jsx("div",{className:"dropdown_listitem__label",children:e}),n&&S.jsx("div",{})]})]})})}function Vt({label:e}){return S.jsx(vt,{value:void 0,className:"flex gap-1 items-center px-1 text-body-b2 text-neutral-6-default after:content-[''] after:block after:grow after:border-b after:border-neutral-9-default select-none",children:e})}const Yi={component:xt,argTypes:{children:{required:!0,type:"string",description:"Accepts `DropdownOption` and `DropdownGroup` components",control:!1},value:{type:"string",description:"The value of the component, can be a string, number, or other type based on your `T`.",control:!1,table:{subcategory:"Props"}},defaultValue:{type:"string",description:"The value of the component, can be a string, number, or other type based on your `T`.",control:!1,table:{subcategory:"Props"}},error:{description:"Indicates whether there is an error with the component. Set to true to display error state styles.",table:{subcategory:"Props"}},disabled:{description:"Disables the component, preventing user interaction. When true, the component will be visually styled as disabled, and interactions like clicks or selections are ignored.",table:{subcategory:"Props"}},multiple:{description:"Allows multiple selections if set to true. When enabled, the value prop will be treated as an array, and users can select multiple items.",table:{subcategory:"Props"}},onChange:{description:"Callback function triggered when the value changes.",action:"changed",table:{subcategory:"Actions"}}}},Mi=({value:e,multiple:t,error:n,disabled:o,onChange:r,defaultValue:i})=>{const[l,s]=u.useState(i);return u.useEffect(()=>{s(e)},[e]),S.jsxs(xt,{prependIcon:S.jsx("i",{className:"icon icon-search"}),error:n,disabled:o,value:l,multiple:t,onChange:a=>{r==null||r(a),s(a)},children:[S.jsx(re,{value:"react",label:"React.js",prependIcon:S.jsx("i",{className:"icon icon-copy"})}),S.jsx(re,{value:"vue",label:"Vue.js"}),S.jsx(re,{value:"svelte",label:"Svelte.js"}),S.jsx(re,{value:"angular",label:"Angular.js",disabled:!0})]})},de={render:Mi,args:{value:null,error:!1,disabled:!1,multiple:!1,onChange(e){to("onChange")(e)}}},Li=({value:e,multiple:t,onChange:n})=>{const[o,r]=u.useState();return u.useEffect(()=>{r(e)},[e]),S.jsxs(xt,{prependIcon:S.jsx("i",{className:"icon icon-search"}),value:o,multiple:t,onChange:i=>{n==null||n(i),r(i)},children:[S.jsx(Vt,{label:"Group 1"}),S.jsx(re,{value:"react",label:"React.js"}),S.jsx(re,{value:"vue",label:"Vue.js"}),S.jsx(Vt,{label:"Group 2"}),S.jsx(re,{value:"svelte",label:"Svelte.js"}),S.jsx(re,{value:"angular",label:"Angular.js",disabled:!0})]})},Ie={render:Li,args:{...de.args}},ke={...de,args:{...de.args,value:[],multiple:!0}};var Wt,Ut,zt;de.parameters={...de.parameters,docs:{...(Wt=de.parameters)==null?void 0:Wt.docs,source:{originalSource:`{
  render: DefaultTemplate,
  args: {
    value: null,
    error: false,
    disabled: false,
    multiple: false,
    onChange(value) {
      action('onChange')(value);
    }
  }
}`,...(zt=(Ut=de.parameters)==null?void 0:Ut.docs)==null?void 0:zt.source}}};var Yt,Gt,Kt;Ie.parameters={...Ie.parameters,docs:{...(Yt=Ie.parameters)==null?void 0:Yt.docs,source:{originalSource:`{
  render: GroupingTemplate,
  args: {
    ...Default.args
  }
}`,...(Kt=(Gt=Ie.parameters)==null?void 0:Gt.docs)==null?void 0:Kt.source}}};var qt,Qt,Xt;ke.parameters={...ke.parameters,docs:{...(qt=ke.parameters)==null?void 0:qt.docs,source:{originalSource:`{
  ...Default,
  args: {
    ...Default.args,
    value: [],
    multiple: true
  }
}`,...(Xt=(Qt=ke.parameters)==null?void 0:Qt.docs)==null?void 0:Xt.source}}};const Gi=["Default","Grouping","MultipleSelection"];export{de as Default,Ie as Grouping,ke as MultipleSelection,Gi as __namedExportsOrder,Yi as default};
