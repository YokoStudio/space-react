import{s as a}from"./render-DQMj-x5Z.js";import{r as s}from"./index-DJO9vBfz.js";function m(t){return a.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}function c(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(n=>setTimeout(()=>{throw n}))}function i(){let t=[],n={addEventListener(e,r,o,u){return e.addEventListener(r,o,u),n.add(()=>e.removeEventListener(r,o,u))},requestAnimationFrame(...e){let r=requestAnimationFrame(...e);return n.add(()=>cancelAnimationFrame(r))},nextFrame(...e){return n.requestAnimationFrame(()=>n.requestAnimationFrame(...e))},setTimeout(...e){let r=setTimeout(...e);return n.add(()=>clearTimeout(r))},microTask(...e){let r={current:!0};return c(()=>{r.current&&e[0]()}),n.add(()=>{r.current=!1})},style(e,r,o){let u=e.style.getPropertyValue(r);return Object.assign(e.style,{[r]:o}),this.add(()=>{Object.assign(e.style,{[r]:u})})},group(e){let r=i();return e(r),this.add(()=>r.dispose())},add(e){return t.includes(e)||t.push(e),()=>{let r=t.indexOf(e);if(r>=0)for(let o of t.splice(r,1))o()}},dispose(){for(let e of t.splice(0))e()}};return n}function f(){let[t]=s.useState(i);return s.useEffect(()=>()=>t.dispose(),[t]),t}export{f as p,m as u};
